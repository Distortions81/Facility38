#HELPFUL INFO
-tags=ebitenginedebug
export EBITENGINE_INTERNAL_IMAGES_KEY=Q
alias gbuild="go build -ldflags=\"-s -w -X main.buildTime=`date -u '+%Y%m%d%H%M%S'`\" && ./GameTest"


High priority:
Hoppers
Timers, pressure switches, item spilling.
Add TotalMined to save/load

Multi-tile objects, ABCDEF port format. Use modulo rotation.
*** Fix saving breaking item links on running game ***
Start investigating server/client and tock/tick spreading.
Show ghost preview when item is selected for placing, turn red if can not place.


Optimizations:
Carefully look at entire draw() loop, update() loop, and ticks/tocks.
Try to remove any unneeded info in objdata
Optimize camera and mouse position calculations.
Get rid of PrevMouseX, add MouseMoved bool.
optimize object camera x/y calculations, and mouse world and mouse screen calculations

Start inserting objects in-order in chunks.
Possibly move to 32-row lists.
Complete unsafe for faster loading, make packed binary format for saves.
make totalmined map for quick rendering, rebuild on load.
Stop recalculating camera/zoom/world mouse, do once per frame.

Other:
*** Add surface ID/Name to XY?, parent/child surfaces.
eventually set machine times in ms/sec
Add ground rendering for pixel mode too
adjustable miners/furnace speeds
Add ground water and surface water. Mineralized, fresh and salt.
Water should get contaminated by dumping.


MULTI-TILE:
List of tiles, in local x/y cords. -2,-2 to 2,2 etc.
Rotation works as expected:  (use 0,0 for center of rotation)

Currently we do not remove/replace sub-obj on rotate (does not support non-square!) fix me

0: x,y
1: -y, x
2: -x, -y
3: y, -x
